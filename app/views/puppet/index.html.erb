<p><a href="/">Main List</a></p>

<p>
<table id="server_list" class="display">
  <thead>
    <tr>
      <td>Host</td>
      <td>Department</td>
      <td>Technical Team</td>
      <td>Advocate</td>
      <td>SLA Level</td>
      <td>Distribution</td>
      <td>Environment</td>
      <td>Project</td>
      <td>Github</td>
      <td>Gemnasium<br />Alerts</td>
      <td>Apache?</td>
      <td>Passenger?</td>
      <td>MySQL?</td>
      <td>RVM?</td>
      <td>RVM Rubies</td>
    </tr>
  </thead>
  <tbody>
    <% @servers.keys.sort.each do |hostname| %>
      <% next if @opt['show_only_flagged'] == 1 && @flags[hostname].empty? %>
      <tr>
        <td><%= link_to(shorthost(hostname), server_path(shorthost(hostname))) %></td>
        <td><%= check_child(@servers[hostname]['puppetfacts'], 'department') %></td>
        <td><%= check_child(@servers[hostname]['puppetfacts'], 'technical_team') %></td>
        <td><%= check_child(@servers[hostname]['puppetfacts'], 'user_advocate') %></td>
        <td><%= check_child(@servers[hostname]['puppetfacts'], 'sla_level') %></td>
        <td><%= release(check_child(@servers[hostname]['puppetfacts'], 'lsbdistdescription')) %></td>
        <td><%= check_child(@servers[hostname]['puppetfacts'], 'environment') %></td>
        <td><%= check_child(@servers[hostname]['puppetfacts'], 'project') %></td>
        <td><%= raw(github_url(check_child(@servers[hostname]['puppetfacts'], 'github_url'))) %></td>
        <td><%= raw(gemnasium_url(@servers[hostname]['puppetfacts']['github_url'], @gemnasium)) %></td>
        <td><%= asterisk(@servers[hostname]['puppetfacts']['apache_installed']) %></td>
        <td><%= asterisk(@servers[hostname]['puppetfacts']['passenger_installed']) %></td>
        <td><%= asterisk(@servers[hostname]['puppetfacts']['mysql_installed']) %></td>
        <td><%= asterisk(@servers[hostname]['puppetfacts']['rvm_installed']) %></td>
        <td><%= raw(separate_commas(@servers[hostname]['puppetfacts']['s_rvm_rubies'])) %></td>
      </tr>
    <% end %>
  </tbody>
</table>
